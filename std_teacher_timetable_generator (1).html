<!DOCTYPE html>
<html lang="gu">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Std & Teacher Timetable Generator</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Sans+Gujarati:wght@400;700&display=swap">
<style>
body { font-family: 'Noto Sans Gujarati', sans-serif; background:#f0f4f7; margin:0; padding:20px; display:flex; flex-direction:column; align-items:center; }
.container { width:100%; max-width:1400px; background:#fff; padding:30px; border-radius:12px; box-shadow:0 8px 24px rgba(0,0,0,0.1); }
h2 { text-align:center; color:#2c3e50; margin-bottom:20px; font-weight:700; }
h3 { text-align:center; color:#34495e; margin:30px 0 20px; font-weight:600; }
table { border-collapse:collapse; width:100%; margin:20px 0; border-radius:8px; overflow:hidden; box-shadow:0 4px 12px rgba(0,0,0,0.1); }
th, td { border:1px solid #ddd; padding:12px; text-align:center; font-size:14px; }
th { background:#34495e; color:white; font-size:15px; }
tr:nth-child(even) { background:#ecf0f1; }
tr:nth-child(odd) { background:#ffffff; }
td { transition: all 0.3s ease; }
td:hover { transform: scale(1.03); box-shadow:0 4px 12px rgba(0,0,0,0.15); z-index:1; }
.subject-àª—à«àªœàª°àª¾àª¤à«€ { background-color:#ff9aa2; }
.subject-àª—àª£àª¿àª¤ { background-color:#a2d2ff; }
.subject-àªªàª°à«àª¯àª¾àªµàª°àª£ { background-color:#b1e6a2; }
.subject-àª…àª‚àª—à«àª°à«‡àªœà«€ { background-color:#f7b7a3; }
.subject-àª†àª•à«ƒàª¤àª¿ { background-color:#c9b1e6; }
.subject-àª¸àª‚àª¸à«àª•à«ƒàª¤ { background-color:#ffe6a2; }
.subject-àª¹àª¿àª¨à«àª¦à«€ { background-color:#a2ffe9; }
select,input { padding:8px; width:150px; border-radius:6px; border:1px solid #ccc; margin:5px; transition:border-color 0.3s,box-shadow 0.3s; }
select:focus,input:focus { border-color:#3498db; box-shadow:0 0 5px rgba(52,152,219,0.5); outline:none; }
button { padding:12px 24px; background:#3498db; color:#fff; border:none; cursor:pointer; border-radius:6px; margin:10px 5px; box-shadow:0 4px 6px rgba(0,0,0,0.1); transition:0.3s; }
button:hover { background:#2980b9; transform:translateY(-2px); box-shadow:0 6px 12px rgba(0,0,0,0.2); }
.flex-container { display:flex; align-items:center; justify-content:center; flex-wrap:wrap; margin-bottom:20px; }
.result { margin-top:30px; width:100%; overflow-x:auto; }
.message-box { background-color:#fcf8e3; color:#8a6d3b; padding:15px; border-radius:8px; text-align:center; margin-bottom:20px; box-shadow:0 2px 4px rgba(0,0,0,0.1); border:1px solid #faebcc; }
@media print { body { background:#fff; } button, select, input { display:none; } table{ page-break-inside: avoid; border-collapse: collapse; width:100%; } th, td { border:1px solid #000; padding:10px; text-align:center; font-size:16px; } th{ background:#2e7d32; color:white; } .subject-àª—à«àªœàª°àª¾àª¤à«€ { background-color:#ff9aa2 !important; } .subject-àª—àª£àª¿àª¤ { background-color:#a2d2ff !important; } .subject-àªªàª°à«àª¯àª¾àªµàª°àª£ { background-color:#b1e6a2 !important; } .subject-àª…àª‚àª—à«àª°à«‡àªœà«€ { background-color:#f7b7a3 !important; } .subject-àª†àª•à«ƒàª¤àª¿ { background-color:#c9b1e6 !important; } .subject-àª¸àª‚àª¸à«àª•à«ƒàª¤ { background-color:#ffe6a2 !important; } .subject-àª¹àª¿àª¨à«àª¦à«€ { background-color:#a2ffe9 !important; } }
</style>
</head>
<body>
<div class="container">
<h2>ğŸ“… Std & Teacher Timetable Generator</h2>
<h3>1ï¸âƒ£ Std-wise Timetable Input</h3>
<div id="stdInputArea"></div>
<div class="flex-container">
<label for="stdSelect">Select Standard:</label>
<select id="stdSelect">
<option value="3">Std 3</option>
<option value="4">Std 4</option>
<option value="5">Std 5</option>
</select>
<button onclick="generateStdTimetable()">Generate Std Timetable</button>
</div>
<h3>2ï¸âƒ£ Teacher Assignment Input</h3>
<div id="teacherInputArea"></div>
<div class="flex-container">
<label for="teacherSelect">Select Teacher:</label>
<select id="teacherSelect"></select>
<button onclick="generateTeacherTimetable()">Generate Teacher Timetable</button>
</div>
<button onclick="printPDF()">ğŸ–¨ï¸ Print / PDF</button>
<div id="resultArea" class="result"></div>
</div>
<script>
const standards=[3,4,5];
const days=["àª¸à«‹àª®àªµàª¾àª°","àª®àª‚àª—àª³àªµàª¾àª°","àª¬à«àª§àªµàª¾àª°","àª—à«àª°à«àªµàª¾àª°","àª¶à«àª•à«àª°àªµàª¾àª°","àª¶àª¨àª¿àªµàª¾àª°"];
const subjects=["àª—à«àªœàª°àª¾àª¤à«€","àª—àª£àª¿àª¤","àªªàª°à«àª¯àª¾àªµàª°àª£","àª…àª‚àª—à«àª°à«‡àªœà«€","àª†àª•à«ƒàª¤àª¿","àª¸àª‚àª¸à«àª•à«ƒàª¤","àª¹àª¿àª¨à«àª¦à«€"];
let teachersList=[];
const stdInputArea=document.getElementById('stdInputArea');
const teacherInputArea=document.getElementById('teacherInputArea');
const teacherSelect=document.getElementById('teacherSelect');
const resultArea=document.getElementById('resultArea');
function generateStdInputTable(){
let html=`<table id='nestedStdTable'><thead><tr><th rowspan='2'>àªªàª¿àª°àª¿àª¯àª¡</th><th rowspan='2'>àª¸àª®àª¯</th>`;
days.forEach(day=>{html+=`<th colspan='${standards.length}'>${day}</th>`});
html+=`</tr><tr>`;
days.forEach(()=>{standards.forEach(std=>{html+=`<th>Std ${std}</th>`})});
html+=`</tr></thead><tbody>`;
for(let p=1;p<=8;p++){html+=`<tr><td>àªªàª¿àª°à«€àª¯àª¡ ${p}</td><td><input type='text' id='time-${p}' placeholder='àª¹àª¾:àª®àª¿-àª¹àª¾:àª®àª¿'></td>`;
days.forEach(day=>{standards.forEach(std=>{
let id=`${day}-${p}-${std}`;
html+=`<td><select id='${id}'>${subjects.map(s=>`<option value='${s}'>${s}</option>`).join('')}</select></td>`;});});
html+=`</tr>`;}
html+=`</tbody></table>`;
stdInputArea.innerHTML=html;}
function generateTeacherAssignmentTable(){
let html=`<table id='teacherTable'><thead><tr><th>Subject</th>`;
standards.forEach(std=>{html+=`<th>Std ${std} Teacher</th>`});
html+=`</tr></thead><tbody>`;
subjects.forEach(sub=>{html+=`<tr><td>${sub}</td>`;
standards.forEach(std=>{html+=`<td><input type='text' id='teacher-${sub}-${std}' placeholder='Teacher'></td>`});
html+=`</tr>`});
html+=`</tbody></table>`;
teacherInputArea.innerHTML=html;}
generateStdInputTable();
generateTeacherAssignmentTable();
function generateStdTimetable(){
const std=document.getElementById('stdSelect').value;
resultArea.innerHTML='';
let html=`<h3>Std ${std} - àªŸàª¾àª‡àª®àªŸà«‡àª¬àª²</h3><table><thead><tr><th>àªªàª¿àª°à«€àª¯àª¡</th><th>àª¸àª®àª¯</th>`;
days.forEach(day=>html+=`<th>${day}</th>`);
html+=`</tr></thead><tbody>`;
for(let p=1;p<=8;p++){html+=`<tr><td>àªªàª¿àª°à«€àª¯àª¡ ${p}</td><td>${document.getElementById('time-'+p).value}</td>`;
days.forEach(day=>{const val=document.getElementById(`${day}-${p}-${std}`).value;html+=`<td class='subject-${val}'>${val}</td>`});
html+=`</tr>`;}
html+=`</tbody></table>`;
resultArea.innerHTML=html;
updateTeacherDropdown();}
function generateTeacherTimetable(){
const teacher=teacherSelect.value;
if(!teacher){showMessageBox('Please select a teacher.');return;}
resultArea.innerHTML='';
let html=`<h3>${teacher} - àªŸàª¾àª‡àª®àªŸà«‡àª¬àª²</h3><table><thead><tr><th>àªªàª¿àª°à«€àª¯àª¡</th><th>àª¸àª®àª¯</th>`;
days.forEach(day=>html+=`<th>${day}</th>`);
html+=`</tr></thead><tbody>`;
for(let p=1;p<=8;p++){html+=`<tr><td>àªªàª¿àª°à«€àª¯àª¡ ${p}</td><td>${document.getElementById('time-'+p).value}</td>`;
days.forEach(day=>{let found=false;
for(let std of standards){const sub=document.getElementById(`${day}-${p}-${std}`).value;
const teacherName=document.getElementById(`teacher-${sub}-${std}`).value.trim();
if(teacherName===teacher){html+=`<td class='subject-${sub}'>${sub} (Std ${std})</td>`;found=true;break;}}
if(!found){html+=`<td>-</td>`}});
html+=`</tr>`;}
html+=`</tbody></table>`;
resultArea.innerHTML=html;}
function updateTeacherDropdown(){
teachersList=[];
subjects.forEach(sub=>{standards.forEach(s=>{const name=document.getElementById(`teacher-${sub}-${s}`).value.trim();if(name&&!teachersList.includes(name)){teachersList.push(name);}});});
teacherSelect.innerHTML=teachersList.map(t=>`<option value='${t}'>${t}</option>`).join('');}
function showMessageBox(message){const box=document.createElement('div');box.className='message-box';box.innerText=message;resultArea.insertBefore(box,resultArea.firstChild);
setTimeout(()=>{box.remove();},3000);}
function printPDF(){let content=resultArea.innerHTML;if(!content){showMessageBox('Please generate a timetable first.');return;}
let w=window.open('','_blank','width=1000,height=800');
w.document.write('<html><head><title>Print Timetable</title><style>body{font-family:\'Noto Sans Gujarati\',sans-serif;}table{border-collapse:collapse;width:100%;}th,td{border:1px solid #000;padding:8px;text-align:center;}th{background:#2e7d32;color:#fff;} .subject-àª—à«àªœàª°àª¾àª¤à«€{background:#ff9aa2 !important;} .subject-àª—àª£àª¿àª¤{background:#a2d2ff !important;} .subject-àªªàª°à«àª¯àª¾àªµàª°àª£{background:#b1e6a2 !important;} .subject-àª…àª‚àª—à«àª°à«‡àªœà«€{background:#f7b7a3 !important;} .subject-àª†àª•à«ƒàª¤àª¿{background:#c9b1e6 !important;} .subject-àª¸àª‚àª¸à«àª•à«ƒàª¤{background:#ffe6a2 !important;} .subject-àª¹àª¿àª¨à«àª¦à«€{background:#a2ffe9 !important;} table, th, td{page-break-inside: avoid;}</style></head><body>'+content+'</body></html>');
w.document.close();
w.print();}
</script>
</body>
</html>
